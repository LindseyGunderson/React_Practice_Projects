{"ast":null,"code":"var _jsxFileName = \"D:\\\\Github_Projects\\\\React_Practice_Projects\\\\shopping_cart\\\\src\\\\context.js\";\nimport { findAllByDisplayValue } from '@testing-library/dom';\nimport React, { useState, useContext, useReducer, useEffect } from 'react';\nimport cartItems from './data';\nimport reducer from './reducer'; // ATTENTION!!!!!!!!!!\n// I SWITCHED TO PERMANENT DOMAIN\n\nconst url = 'https://course-api.com/react-useReducer-cart-project';\nconst AppContext = React.createContext();\nconst initialState = {\n  loading: false,\n  cart: cartItems,\n  total: 0,\n  amount: 0\n};\n\nconst AppProvider = ({\n  children\n}) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const clearCart = () => {\n    dispatch({\n      type: 'CLEAR_CART'\n    });\n  };\n\n  const removeItem = id => {\n    dispatch({\n      type: 'REMOVE_ITEM',\n      payload: id\n    });\n  };\n\n  const increaseItem = id => {\n    dispatch({\n      type: 'INCREASE_ITEM',\n      payload: id\n    });\n  };\n\n  const decreaseItem = id => {\n    dispatch({\n      type: 'DECREASE_ITEM',\n      payload: id\n    });\n  };\n\n  const fetchData = async () => {\n    dispatch({\n      type: 'LOADING'\n    });\n    const response = await fetch(url);\n    const cart = response.json();\n    dispatch({\n      type: 'DISPLAY_ITEMS',\n      payload: cart\n    });\n  };\n\n  useEffect(() => {\n    dispatch({\n      type: 'GET_TOTALS'\n    });\n  }, [state.cart]);\n  return /*#__PURE__*/React.createElement(AppContext.Provider, {\n    value: { ...state,\n      clearCart,\n      removeItem,\n      increaseItem,\n      decreaseItem\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, children);\n}; // make sure use\n\n\nexport const useGlobalContext = () => {\n  return useContext(AppContext);\n};\nexport { AppContext, AppProvider };","map":{"version":3,"sources":["D:/Github_Projects/React_Practice_Projects/shopping_cart/src/context.js"],"names":["findAllByDisplayValue","React","useState","useContext","useReducer","useEffect","cartItems","reducer","url","AppContext","createContext","initialState","loading","cart","total","amount","AppProvider","children","state","dispatch","clearCart","type","removeItem","id","payload","increaseItem","decreaseItem","fetchData","response","fetch","json","useGlobalContext"],"mappings":";AAAA,SAASA,qBAAT,QAAsC,sBAAtC;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,UAAtC,EAAkDC,SAAlD,QAAmE,OAAnE;AACA,OAAOC,SAAP,MAAsB,QAAtB;AACA,OAAOC,OAAP,MAAoB,WAApB,C,CACA;AACA;;AACA,MAAMC,GAAG,GAAG,sDAAZ;AACA,MAAMC,UAAU,GAAGR,KAAK,CAACS,aAAN,EAAnB;AAEA,MAAMC,YAAY,GAAG;AAEnBC,EAAAA,OAAO,EAAE,KAFU;AAGnBC,EAAAA,IAAI,EAAEP,SAHa;AAInBQ,EAAAA,KAAK,EAAE,CAJY;AAKnBC,EAAAA,MAAM,EAAE;AALW,CAArB;;AAYA,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAEpC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBf,UAAU,CAACG,OAAD,EAAUI,YAAV,CAApC;;AAEA,QAAMS,SAAS,GAAG,MAAM;AAEtBD,IAAAA,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AAED,GAJD;;AAMA,QAAMC,UAAU,GAAIC,EAAD,IAAQ;AAEzBJ,IAAAA,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAAE,aAAP;AAAsBG,MAAAA,OAAO,EAAED;AAA/B,KAAD,CAAR;AAED,GAJD;;AAMA,QAAME,YAAY,GAAIF,EAAD,IAAQ;AAE3BJ,IAAAA,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAAE,eAAP;AAAwBG,MAAAA,OAAO,EAAED;AAAjC,KAAD,CAAR;AAED,GAJD;;AAMA,QAAMG,YAAY,GAAIH,EAAD,IAAQ;AAE3BJ,IAAAA,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAAE,eAAP;AAAwBG,MAAAA,OAAO,EAAED;AAAjC,KAAD,CAAR;AAED,GAJD;;AAMA,QAAMI,SAAS,GAAG,YAAY;AAE5BR,IAAAA,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AAEA,UAAMO,QAAQ,GAAG,MAAMC,KAAK,CAACrB,GAAD,CAA5B;AAEA,UAAMK,IAAI,GAAGe,QAAQ,CAACE,IAAT,EAAb;AAEAX,IAAAA,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAAE,eAAP;AAAwBG,MAAAA,OAAO,EAAEX;AAAjC,KAAD,CAAR;AACD,GATD;;AAWAR,EAAAA,SAAS,CAAC,MAAI;AAEZc,IAAAA,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AAED,GAJQ,EAIN,CAACH,KAAK,CAACL,IAAP,CAJM,CAAT;AAMA,sBACE,oBAAC,UAAD,CAAY,QAAZ;AACE,IAAA,KAAK,EAAE,EACL,GAAGK,KADE;AAELE,MAAAA,SAFK;AAGLE,MAAAA,UAHK;AAILG,MAAAA,YAJK;AAKLC,MAAAA;AALK,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASGT,QATH,CADF;AAaD,CA1DD,C,CA2DA;;;AACA,OAAO,MAAMc,gBAAgB,GAAG,MAAM;AACpC,SAAO5B,UAAU,CAACM,UAAD,CAAjB;AACD,CAFM;AAIP,SAASA,UAAT,EAAqBO,WAArB","sourcesContent":["import { findAllByDisplayValue } from '@testing-library/dom'\nimport React, { useState, useContext, useReducer, useEffect } from 'react'\nimport cartItems from './data'\nimport reducer from './reducer'\n// ATTENTION!!!!!!!!!!\n// I SWITCHED TO PERMANENT DOMAIN\nconst url = 'https://course-api.com/react-useReducer-cart-project'\nconst AppContext = React.createContext()\n\nconst initialState = {\n\n  loading: false,\n  cart: cartItems,\n  total: 0,\n  amount: 0\n\n}\n\n\n\n\nconst AppProvider = ({ children }) => {\n\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  const clearCart = () => {\n\n    dispatch({type: 'CLEAR_CART'})\n\n  }\n\n  const removeItem = (id) => {\n\n    dispatch({type: 'REMOVE_ITEM', payload: id})\n\n  }\n\n  const increaseItem = (id) => {\n\n    dispatch({type: 'INCREASE_ITEM', payload: id })\n\n  }\n\n  const decreaseItem = (id) => {\n\n    dispatch({type: 'DECREASE_ITEM', payload: id })\n\n  }\n\n  const fetchData = async () => {\n\n    dispatch({type: 'LOADING'})\n\n    const response = await fetch(url);\n\n    const cart = response.json();\n\n    dispatch({type: 'DISPLAY_ITEMS', payload: cart})\n  }\n\n  useEffect(()=>{\n\n    dispatch({type: 'GET_TOTALS'})\n    \n  }, [state.cart])\n\n  return (\n    <AppContext.Provider\n      value={{\n        ...state,\n        clearCart,\n        removeItem,\n        increaseItem,\n        decreaseItem\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  )\n}\n// make sure use\nexport const useGlobalContext = () => {\n  return useContext(AppContext)\n}\n\nexport { AppContext, AppProvider }\n"]},"metadata":{},"sourceType":"module"}